(self.webpackChunk=self.webpackChunk||[]).push([[356],{1893:(e,t,s)=>{"use strict";s.d(t,{P:()=>a,_:()=>n});var a={data:function(){return{dtTable:null}},beforeUpdate:function(){this.dtTable&&this.dtTable.destroy()},updated:function(){this.dtTable=$("#dataTable").DataTable({order:[[0,"desc"]]})}},n={data:function(){return{statuses:["pending","processing","out_for_delivery","delivered","cancelled","failed"]}},methods:{customMultiselectLabel:function(e){return translate("admin."+e)},bindStatusClass:function(e,t){switch(!0){case["pending","processing","out_for_delivery"].includes(e):return"badge"==t&&"pending"==e?"badge-secondary":"icon"==t?"fa-clock":"badge-info";case["cancelled","failed"].includes(e):return"icon"==t?"fa-times":"badge-danger";case["delivered"].includes(e):return"icon"==t?"fa-check":"badge-success"}}}}},4356:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(7757),n=s.n(a),r=s(1893),l=s(629),c=s(3299),i=s(1318);function d(e,t,s,a,n,r,l){try{var c=e[r](l),i=c.value}catch(e){return void s(e)}c.done?t(i):Promise.resolve(i).then(a,n)}function o(e){return function(){var t=this,s=arguments;return new Promise((function(a,n){var r=e.apply(t,s);function l(e){d(r,a,n,l,c,"next",e)}function c(e){d(r,a,n,l,c,"throw",e)}l(void 0)}))}}function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){v(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function v(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const m={mixins:[r.P],components:{AddressList:i.Z},data:function(){return{selectedItems:[],allSelected:!1,clickedUserId:null}},watch:{selectedItems:function(){this.allSelected=this.selectedItems.length===this.allUsers.length}},computed:f({getIsLoading:function(){return this.isLoading.get},postIsLoading:function(){return this.isLoading.post}},(0,l.Se)("users",["allUsers","isLoading"])),methods:f({handleClickAddressBtn:function(e){this.clickedUserId=e},selectOrUnSelectAll:function(){var e=this;this.allSelected?this.selectedItems=[]:this.allUsers.forEach((function(t){e.selectedItems.push(t.id)}))},prepareBulkDeleteUsers:function(){var e=this;this.selectedItems.length&&(0,c.AB)(o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.bulkDeleteUsers(e.selectedItems);case 2:e.selectedItems=[];case 3:case"end":return t.stop()}}),t)}))))}},(0,l.nv)("users",["fetchUsers","deleteUser","bulkDeleteUsers"])),created:function(){this.fetchUsers()}};const _=(0,s(1900).Z)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid"},[e.clickedUserId?s("address-list",{attrs:{"user-id":e.clickedUserId,"apply-front-theme":!1}}):e._e(),e._v(" "),s("the-breadcrumb",[s("li",{staticClass:"breadcrumb-item active"},[e._v(e._s(e.translate("admin.users")))])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"card-header card-header-icon card-header-warning",staticStyle:{"flex-grow":"1 !important"}},[e._m(0),e._v(" "),s("h4",{staticClass:"card-title"},[e._v("\n              "+e._s(e.translate("admin.users")+" Table")+"\n            ")])]),e._v(" "),s("div",{staticClass:"mt-2"},[e.$gate.can("manage-fully")?s("button",{staticClass:"btn btn-danger",attrs:{disabled:e.postIsLoading},on:{click:e.prepareBulkDeleteUsers}},[s("span",[e.postIsLoading?s("i",{staticClass:"fa fa-circle-notch fa-spin"}):s("i",{staticClass:"fa fa-dumpster"}),e._v("\n                "+e._s(e.translate("admin.delete"))+"\n              ")])]):e._e(),e._v(" "),s("router-link",{attrs:{to:{name:"users.create"}}},[s("button",{staticClass:"btn btn-outline-success mr-2"},[s("i",{staticClass:"fa fa-plus-circle"}),e._v(" "),s("span",[e._v("\n                  "+e._s(e.translate("admin.add")+" "+e.translate("admin.user")))])])])],1)]),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped table-hover",attrs:{id:"dataTable"}},[s("thead",[s("tr",[s("th",[e.$gate.can("manage-fully")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.allSelected,expression:"allSelected"}],attrs:{disabled:e.getIsLoading,type:"checkbox"},domProps:{checked:Array.isArray(e.allSelected)?e._i(e.allSelected,null)>-1:e.allSelected},on:{click:e.selectOrUnSelectAll,change:function(t){var s=e.allSelected,a=t.target,n=!!a.checked;if(Array.isArray(s)){var r=e._i(s,null);a.checked?r<0&&(e.allSelected=s.concat([null])):r>-1&&(e.allSelected=s.slice(0,r).concat(s.slice(r+1)))}else e.allSelected=n}}}):e._e()]),e._v(" "),s("th",[e._v("ID")]),e._v(" "),s("th",[e._v(e._s(e.translate("admin.name")))]),e._v(" "),s("th",[e._v("Email")]),e._v(" "),s("th",[e._v(e._s(e.translate("admin.phone")))]),e._v(" "),s("th",[e._v(e._s(e.translate("admin.roles")))]),e._v(" "),s("th",[e._v(e._s(e.translate("admin.joinedAt")))]),e._v(" "),s("th",[e._v("Actions")])])]),e._v(" "),s("tbody",[e.getIsLoading?s("tr",[s("td",{staticClass:"text-center py-5",attrs:{colspan:"8"}},[s("vue-loaders-ball-scale-ripple-multiple",{attrs:{color:"#2B51C4",scale:"1"}})],1)]):e._l(e.allUsers,(function(t){return s("tr",{key:t.id},[s("td",[e.$gate.can("manage-fully")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedItems,expression:"selectedItems"}],attrs:{type:"checkbox"},domProps:{value:t.id,checked:Array.isArray(e.selectedItems)?e._i(e.selectedItems,t.id)>-1:e.selectedItems},on:{change:function(s){var a=e.selectedItems,n=s.target,r=!!n.checked;if(Array.isArray(a)){var l=t.id,c=e._i(a,l);n.checked?c<0&&(e.selectedItems=a.concat([l])):c>-1&&(e.selectedItems=a.slice(0,c).concat(a.slice(c+1)))}else e.selectedItems=r}}}):e._e()]),e._v(" "),s("td",[e._v(e._s(t.id))]),e._v(" "),s("td",[e._v(e._s(t.name))]),e._v(" "),s("td",[e._v(e._s(t.email))]),e._v(" "),s("td",[s("h4",[s("span",{staticClass:"badge badge-info"},[e._v(" "+e._s(t.phone))])])]),e._v(" "),s("td",[s("h5",e._l(t.roles,(function(t){return s("span",{key:t.id,staticClass:"badge badge-success mr-1"},[e._v(e._s(e.translate("admin."+t.name)))])})),0)]),e._v(" "),s("td",[e._v(e._s(e._f("formatDate")(t.created_at)))]),e._v(" "),s("td",[s("a",{staticClass:"mr-4",attrs:{href:"#","data-toggle":"modal","data-target":"#addressListModal"},on:{click:function(s){return s.preventDefault(),e.handleClickAddressBtn(t.id)}}},[s("i",{staticClass:"fa fa-map-marker-alt text-info"})]),e._v(" "),e.$gate.can("manage-fully")?s("router-link",{staticClass:"mr-4",attrs:{to:{name:"users.edit",params:{id:t.id}}}},[s("i",{staticClass:"fa fa-pen text-success"})]):e._e(),e._v(" "),e.$gate.can("manage-fully")?s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.deleteUser(t.id)}}},[s("i",{staticClass:"fa fa-trash text-danger"})]):e._e()],1)])}))],2)])])])])])])],1)}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card-icon card-icon-custom"},[s("i",{staticClass:"material-icons"},[e._v("people")])])}],!1,null,null,null).exports}}]);